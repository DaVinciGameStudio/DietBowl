@model DietBowl.Models.Diet

@{
    ViewData["Title"] = "Dieta na " + Model.Date.ToString("dd-MM-yyyy");
}

<h2>@ViewData["Title"]</h2>

@if (Model == null)
{
    <p>Brak diety na wybrany dzień.</p>
}
else
{
    <h3>Posiłki:</h3>
    <ul>
        @foreach (var dietRecipe in Model.DietRecipes)
        {
            <li>
                <strong>@dietRecipe.Recipe.Title</strong> - Zjedzony: @(dietRecipe.IsConsumed ? "Tak" : "Nie")
                <ul>
                    <li>Białko: @dietRecipe.Recipe.Protein</li>
                    <li>Tłuszcz: @dietRecipe.Recipe.Fat</li>
                    <li>Węglowodany: @dietRecipe.Recipe.Carbohydrate</li>
                    <li>Kalorie: @dietRecipe.Recipe.Calories</li>
                </ul>
                <form method="post" action="/Diet/MarkAsConsumed">
                    <input type="hidden" name="dietId" value="@dietRecipe.DietId" />
                    <input type="hidden" name="recipeId" value="@dietRecipe.RecipeId" />
                    @if (!dietRecipe.IsConsumed)
                    {
                        <button type="submit" onclick="return confirm('Czy na pewno zjadłeś ten posiłek?')">Zaznacz jako zjedzony</button>
                    }
                </form>
            </li>
        }
    </ul>
}